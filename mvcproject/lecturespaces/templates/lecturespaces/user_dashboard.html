{% extends 'base.html' %}
{% load static %}  <!-- Load static if needed -->

{% block content %}



<h1>User Dashboard</h1>

<h2>Saved Lecturespaces</h2>
{% if saved_lecturespaces %}
    <ul>
        {% for saved in saved_lecturespaces %}
            <li>
                <a href="{% url 'lecturespace_detail' saved.lecturespace.id %}">{{ saved.lecturespace.title }}</a>
                <form action="{% url 'unsave_lecturespace' saved.lecturespace.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" onclick="return confirm('Are you sure you want to unsave this lecturespace?');">Unsave Lecturespace</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No saved lecturespaces yet.</p>
{% endif %}

<h2>Saved Flashcards</h2>
{% if saved_flashcards %}
    <ul>
        {% for saved in saved_flashcards %}
            <li>
                {{ saved.flashcard.title }} - <a href="{% url 'lecturespace_detail' saved.flashcard.lecturespace.id %}">View in Lecturespace</a>
                <form action="{% url 'unsave_flashcard' saved.flashcard.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit" onclick="return confirm('Are you sure you want to unsave this flashcard?');">Unsave Flashcard</button>
                </form>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No saved flashcards yet.</p>
{% endif %}

<h2>Recommended Lecturespaces</h2>
{% if recommended_lecturespaces %}
    <ul>
        {% for lecturespace in recommended_lecturespaces %}
            <li>
                <a href="{% url 'lecturespace_detail' lecturespace.id %}">{{ lecturespace.title }}</a>
            </li>
        {% endfor %}
    </ul>
{% else %}
    <p>No recommendations based on your interests yet.</p>
{% endif %}

{% endblock %}
