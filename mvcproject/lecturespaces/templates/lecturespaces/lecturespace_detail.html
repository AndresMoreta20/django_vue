<!-- lecturespaces/templates/lecturespaces/lecturespace_detail.html -->
<!DOCTYPE html>
<html>
<head>
    <title>{{ lecturespace.title }}</title>
    <!-- Include any CSS or JS here -->
    <style>
        /* Modal styles */
        .modal-content {
            background-color: #fefefe;
            margin: 15% auto;
            padding: 20px;
            border: 1px solid #888;
            width: 80%;
        }
        /* The Modal (background) */
        #flashcardCreationModal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
        }
    </style>
    
</head>
<body>
    <ul>
        <li><a href="{% url 'user_dashboard' %}">Personal Space</a></li>
        <li><a href="{% url 'explore_lecturespaces' %}">Explore</a></li>
      </ul>
    <h1>{{ lecturespace.title }}</h1>
    <p><strong>Created by:</strong> {{ lecturespace.created_by.username }}</p>
    <p><strong>Created at:</strong> {{ lecturespace.created_at }}</p>
    <p><strong>YouTube URL:</strong> <a href="{{ lecturespace.youtube_url }}">{{ lecturespace.youtube_url }}</a></p>
    <p><strong>Tags:</strong> 
        {% for tag in lecturespace.tags.all %}
            {{ tag.name }}
            {% if not forloop.last %}, {% endif %}
        {% endfor %}
    </p>
    <form action="{% url 'save_lecturespace' lecturespace.id %}" method="post">
        {% csrf_token %}
        <button type="submit">Save Lecturespace</button>
    </form>
    
    <form id="flashcard-form" action="{% url 'create_flashcard' lecturespace.id %}" method="post">
        {% csrf_token %}
        <button type="submit">Create Flashcard</button>
    </form>
    <h2>Flashcards</h2>
    <ul>
        {% for flashcard in lecturespace.flashcards.all %}
            <li>
                <form action="{% url 'save_flashcard' flashcard.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Save Flashcard</button>
                </form>
                <h3>{{ flashcard.title }}</h3>
                <p>{{ flashcard.content }}</p>
                <p>Likes: {{ flashcard.likes }}, Dislikes: {{ flashcard.dislikes }}</p>
                <!-- Here you can add like/dislike buttons or links -->
                <form action="{% url 'like_flashcard' flashcard.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Like</button>
                </form>
                <form action="{% url 'dislike_flashcard' flashcard.id %}" method="post">
                    {% csrf_token %}
                    <button type="submit">Dislike</button>
                </form>
            </li>
        {% empty %}
            <li>No flashcards available.</li>
        {% endfor %}
    </ul>
    
    <!-- Add other details or features you want to include, such as a comment section or related Lecturespaces -->
    <div id="flashcardCreationModal" class="modal">
        <!-- Modal content -->
        <div class="modal-content">
            <p>Creating flashcard, please wait...</p>
        </div>
    </div>

    <!-- JavaScript to handle the modal -->
    <script>
        document.getElementById('flashcard-form').onsubmit = function() {
            document.getElementById('flashcardCreationModal').style.display = 'block';
        };

        // You can use AJAX to submit the form and hide the modal once the response is received.
        // Or rely on page redirection to hide the modal.
    </script>
</body>
</html>
